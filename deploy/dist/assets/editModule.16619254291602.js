var N=Object.defineProperty;var A=Object.getOwnPropertySymbols;var U=Object.prototype.hasOwnProperty,R=Object.prototype.propertyIsEnumerable;var E=(e,o,u)=>o in e?N(e,o,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[o]=u,k=(e,o)=>{for(var u in o||(o={}))U.call(o,u)&&E(e,u,o[u]);if(A)for(var u of A(o))R.call(o,u)&&E(e,u,o[u]);return e};import{$ as c,_ as q,H as M,k as L,p as z,a as y,h as l,w as s,a2 as T,M as C,r as n,aC as $,o as m,y as j,i as F,t as b,b as H,F as K,e as I,f as V,A as B,g as W}from"./index.1661925429160.js";function le(e){return c({url:"/resource/oss/list",method:"get",params:e})}function G(e){return c({url:"/resource/oss",method:"post",data:e})}function J(e){return c({url:"/resource/oss",method:"put",data:e})}function re(e){return c({url:"/resource/oss/"+e,method:"delete"})}function se(e){return c({url:"/resource/oss/changeStatus",method:"put",data:e})}const P={name:"editMenu",props:{title:{type:String,default:()=>""}},setup(){const{proxy:e}=W(),o=M(null),u=L({isShowDialog:!1,loading:!1,ruleForm:{ossId:0,category:"",appId:"",accessKey:"",secretKey:"",bucketName:"",endpoint:"",ossCode:"",region:"",remark:"",status:"0"},statusOptions:[],ossOptions:[],ruleRules:{category:[{required:!0,message:"\u5206\u7C7B\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],ossCode:[{required:!0,message:"\u8D44\u6E90\u7F16\u53F7\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],appId:[{required:!0,message:"appId\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],accessKey:[{required:!0,message:"accessKey\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],secretKey:[{required:!0,message:"secretKey\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],bucketName:[{required:!0,message:"\u7A7A\u95F4\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}],endpoint:[{required:!0,message:"oss\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A",trigger:"blur"}]}}),g=r=>{r.ossId&&r.ossId!=null&&r.ossId!=0?(u.ruleForm=r,u.ruleForm.ossId=r.ossId,u.ruleForm.category=r.category,u.ruleForm.appId=r.appId,u.ruleForm.accessKey=r.accessKey,u.ruleForm.secretKey=r.secretKey,u.ruleForm.bucketName=r.bucketName,u.ruleForm.remark=r.remark,u.ruleForm.endpoint=r.endpoint,u.ruleForm.ossCode=r.ossCode,u.ruleForm.region=r.region,u.ruleForm.status=r.status):p(),u.isShowDialog=!0,u.loading=!1,e.getDicts("sys_normal_disable").then(t=>{u.statusOptions=t.data}),e.getDicts("res_oss_category").then(t=>{u.ossOptions=t.data})},i=r=>{e.mittBus.emit("onEditResOssesModule",r),u.isShowDialog=!1},D=()=>{i()},f=()=>{const r=T(o);!r||r.validate(t=>{t&&(u.loading=!0,u.ruleForm.ossId!=null&&u.ruleForm.ossId!=0?J(u.ruleForm).then(d=>{C.success("\u4FEE\u6539\u6210\u529F"),u.loading=!1,i(u.ruleForm)}):G(u.ruleForm).then(d=>{C.success("\u65B0\u589E\u6210\u529F"),u.loading=!1,i(u.ruleForm)}))})},p=()=>{u.ruleForm.ossId=0,u.ruleForm.category="",u.ruleForm.appId="",u.ruleForm.accessKey="",u.ruleForm.secretKey="",u.ruleForm.bucketName="",u.ruleForm.remark="",u.ruleForm.endpoint="",u.ruleForm.ossCode="",u.ruleForm.region="",u.ruleForm.status="0"};return k({ruleFormRef:o,openDialog:g,closeDialog:i,onCancel:D,initForm:p,onSubmit:f},z(u))}},Q={class:"system-menu-container"},X={style:{"font-size":"large"}},Y={class:"dialog-footer"},Z=F("\u53D6 \u6D88"),w=F("\u7F16 \u8F91");function x(e,o,u,g,i,D){const f=n("el-radio"),p=n("el-radio-group"),r=n("el-form-item"),t=n("el-col"),d=n("el-input"),h=n("el-row"),v=n("el-form"),_=n("el-button"),O=n("el-dialog"),S=$("drag");return m(),y("div",Q,[l(O,{modelValue:e.isShowDialog,"onUpdate:modelValue":o[10]||(o[10]=a=>e.isShowDialog=a),width:"769px",center:""},{header:s(()=>[j((m(),y("div",X,[F(b(u.title),1)])),[[S,[".system-menu-container .el-dialog",".system-menu-container .el-dialog__header"]]])]),footer:s(()=>[H("span",Y,[l(_,{onClick:g.onCancel},{default:s(()=>[Z]),_:1},8,["onClick"]),l(_,{type:"primary",onClick:g.onSubmit,loading:e.loading},{default:s(()=>[w]),_:1},8,["onClick","loading"])])]),default:s(()=>[l(v,{model:e.ruleForm,rules:e.ruleRules,ref:"ruleFormRef","label-width":"100px"},{default:s(()=>[l(h,{gutter:35},{default:s(()=>[l(t,{span:24},{default:s(()=>[l(r,{label:"Oss\u5206\u7C7B",prop:"category"},{default:s(()=>[l(p,{modelValue:e.ruleForm.category,"onUpdate:modelValue":o[0]||(o[0]=a=>e.ruleForm.category=a)},{default:s(()=>[(m(!0),y(K,null,I(e.ossOptions,a=>(m(),V(f,{key:a.dictValue,label:a.dictValue},{default:s(()=>[F(b(a.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(t,{span:24},{default:s(()=>[l(r,{label:"\u8D44\u6E90\u7F16\u53F7",prop:"ossCode"},{default:s(()=>[l(d,{modelValue:e.ruleForm.ossCode,"onUpdate:modelValue":o[1]||(o[1]=a=>e.ruleForm.ossCode=a),placeholder:"\u8BF7\u8F93\u5165\u8D44\u6E90\u7F16\u53F7"},null,8,["modelValue"])]),_:1})]),_:1}),l(t,{span:24},{default:s(()=>[l(r,{label:"\u8D44\u6E90\u5730\u5740",prop:"endpoint"},{default:s(()=>[l(d,{modelValue:e.ruleForm.endpoint,"onUpdate:modelValue":o[2]||(o[2]=a=>e.ruleForm.endpoint=a),placeholder:"\u8BF7\u8F93\u5165\u8D44\u6E90\u5730\u5740"},null,8,["modelValue"])]),_:1})]),_:1}),l(t,{span:24},{default:s(()=>[l(r,{label:"\u7A7A\u95F4\u540D",prop:"bucketName"},{default:s(()=>[l(d,{modelValue:e.ruleForm.bucketName,"onUpdate:modelValue":o[3]||(o[3]=a=>e.ruleForm.bucketName=a),placeholder:"\u8BF7\u8F93\u5165\u7A7A\u95F4\u540D"},null,8,["modelValue"])]),_:1})]),_:1}),l(t,{span:24},{default:s(()=>[l(r,{label:"accessKey",prop:"accessKey"},{default:s(()=>[l(d,{modelValue:e.ruleForm.accessKey,"onUpdate:modelValue":o[4]||(o[4]=a=>e.ruleForm.accessKey=a),placeholder:"\u8BF7\u8F93\u5165accessKey"},null,8,["modelValue"])]),_:1})]),_:1}),l(t,{span:24},{default:s(()=>[l(r,{label:"secretKey",prop:"secretKey"},{default:s(()=>[l(d,{modelValue:e.ruleForm.secretKey,"onUpdate:modelValue":o[5]||(o[5]=a=>e.ruleForm.secretKey=a),placeholder:"\u8BF7\u8F93\u5165secretKey"},null,8,["modelValue"])]),_:1})]),_:1}),e.ruleForm.category=="2"?(m(),V(t,{key:0,span:24},{default:s(()=>[l(r,{label:"appId",prop:"appId"},{default:s(()=>[l(d,{modelValue:e.ruleForm.appId,"onUpdate:modelValue":o[6]||(o[6]=a=>e.ruleForm.appId=a),placeholder:"\u8BF7\u8F93\u5165appId"},null,8,["modelValue"])]),_:1})]),_:1})):B("",!0),e.ruleForm.category=="2"?(m(),V(t,{key:1,span:24},{default:s(()=>[l(r,{label:"region",prop:"region"},{default:s(()=>[l(d,{modelValue:e.ruleForm.region,"onUpdate:modelValue":o[7]||(o[7]=a=>e.ruleForm.region=a),placeholder:"\u8BF7\u8F93\u5165\u5C97\u4F4D\u540D\u79F0"},null,8,["modelValue"])]),_:1})]),_:1})):B("",!0),l(t,{span:24},{default:s(()=>[l(r,{label:"\u72B6\u6001",prop:"status"},{default:s(()=>[l(p,{modelValue:e.ruleForm.status,"onUpdate:modelValue":o[8]||(o[8]=a=>e.ruleForm.status=a)},{default:s(()=>[(m(!0),y(K,null,I(e.statusOptions,a=>(m(),V(f,{key:a.dictValue,label:a.dictValue},{default:s(()=>[F(b(a.dictLabel),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(t,{span:24},{default:s(()=>[l(r,{label:"\u5907\u6CE8",prop:"remark"},{default:s(()=>[l(d,{modelValue:e.ruleForm.remark,"onUpdate:modelValue":o[9]||(o[9]=a=>e.ruleForm.remark=a),type:"textarea",placeholder:"\u8BF7\u8F93\u5165\u5185\u5BB9"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue"])])}var ee=q(P,[["render",x]]),ae=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:ee});export{ee as E,se as c,re as d,ae as e,le as l};
