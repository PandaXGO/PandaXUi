var Je=Object.defineProperty;var Me=Object.getOwnPropertySymbols;var Ke=Object.prototype.hasOwnProperty,Ze=Object.prototype.propertyIsEnumerable;var Be=(e,s,o)=>s in e?Je(e,s,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[s]=o,A=(e,s)=>{for(var o in s||(s={}))Ke.call(s,o)&&Be(e,o,s[o]);if(Me)for(var o of Me(s))Ze.call(s,o)&&Be(e,o,s[o]);return e};import{_ as B,u as z,c as T,o as h,a as $,b as k,t as F,g as Q,d as le,r as u,e as J,F as P,f as V,w as b,h as m,i as q,j as K,k as U,l as se,m as Z,n as re,p as j,q as Ee,s as de,v as ue,x as fe,y as Ce,z as we,A as H,B as O,C as qe,D as ce,T as et,E as ne,G as me,H as ee,I as ze,J as ie,K as tt,L as X,M as Pe,N as nt,S as ae,O as Oe,P as pe,Q as st,R as ot,U as xe,V as at,W as it}from"./index.1661925429160.js";import{l as lt}from"./notice.1661925429160.js";import{S as rt}from"./sortable.esm.1661925429160.js";import ct from"./parent.1661925429160.js";var ut="./assets/logo1.1661925429160.png";const mt={name:"layoutLogo",setup(){const{proxy:e}=Q(),s=z(),o=T(()=>s.themeConfig),t=T(()=>{let{isCollapse:y,layout:r}=s.themeConfig;return!y||r==="classic"||document.body.clientWidth<1e3});return{logo:ut,setShowLogo:t,getThemeConfig:o,onThemeConfigChange:()=>{if(s.themeConfig.layout==="transverse")return!1;e.mittBus.emit("onMenuClick"),s.themeConfig.isCollapse=!s.themeConfig.isCollapse}}}},dt=["src"],ft=["src"];function pt(e,s,o,t,p,y){return t.setShowLogo?(h(),$("div",{key:0,class:"layout-logo",onClick:s[0]||(s[0]=(...r)=>t.onThemeConfigChange&&t.onThemeConfigChange(...r))},[k("img",{src:t.logo,class:"layout-logo-medium-img"},null,8,dt),k("span",null,F(t.getThemeConfig.globalTitle),1)])):(h(),$("div",{key:1,class:"layout-logo-size",onClick:s[1]||(s[1]=(...r)=>t.onThemeConfigChange&&t.onThemeConfigChange(...r))},[k("img",{src:t.logo,class:"layout-logo-size-img"},null,8,ft)]))}var Ne=B(mt,[["render",pt],["__scopeId","data-v-8f5d2aa4"]]);const ht=le({name:"navMenuSubItem",props:{chil:{type:Array,default:()=>[]}},setup(e){return{chils:T(()=>e.chil)}}}),_t=["href"];function gt(e,s,o,t,p,y){const r=u("SvgIcon"),a=u("sub-item",!0),i=u("el-sub-menu"),n=u("el-menu-item");return h(!0),$(P,null,J(e.chils,_=>(h(),$(P,null,[_.children&&_.children.length>0?(h(),V(i,{index:_.path,key:_.path},{title:b(()=>[m(r,{name:_.meta.icon},null,8,["name"]),k("span",null,F(e.$t(_.meta.title)),1)]),default:b(()=>[m(a,{chil:_.children},null,8,["chil"])]),_:2},1032,["index"])):(h(),V(n,{index:_.path,key:_.path},{default:b(()=>[!_.meta.isLink||_.meta.isLink&&_.meta.isIframe?(h(),$(P,{key:0},[m(r,{name:_.meta.icon},null,8,["name"]),k("span",null,F(e.$t(_.meta.title)),1)],64)):(h(),$("a",{key:1,href:_.meta.isLink,target:"_blank",rel:"opener"},[m(r,{name:_.meta.icon},null,8,["name"]),q(" "+F(e.$t(_.meta.title)),1)],8,_t))]),_:2},1032,["index"]))],64))),256)}var We=B(ht,[["render",gt]]);const yt=le({name:"navMenuVertical",components:{SubItem:We},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:s}=Q(),o=z(),t=K(),p=U({defaultActive:t.meta.isDynamic?t.meta.isDynamicPath:t.path,isCollapse:!1}),y=T(()=>e.menuList),r=T(()=>o.themeConfig),a=i=>{const{path:n,meta:_}=i,d=_.isDynamic?_.isDynamicPath.split("/"):n.split("/");return d.length>=4&&_.isHide?d.splice(0,3).join("/"):n};return se(o.themeConfig,()=>{document.body.clientWidth<=1e3?p.isCollapse=!1:p.isCollapse=r.value.isCollapse},{immediate:!0}),Z(()=>{p.defaultActive=a(t)}),re(i=>{p.defaultActive=a(i),s.mittBus.emit("onMenuClick"),document.body.clientWidth<1e3&&(r.value.isCollapse=!1)}),A({menuLists:y,getThemeConfig:r},j(p))}});function Ct(e,s,o,t,p,y){const r=u("SvgIcon"),a=u("SubItem"),i=u("el-sub-menu"),n=u("el-menu-item"),_=u("el-menu");return h(),V(_,{router:"","default-active":e.defaultActive,"background-color":"transparent",collapse:e.isCollapse,"unique-opened":e.getThemeConfig.isUniqueOpened,"collapse-transition":!1},{default:b(()=>[(h(!0),$(P,null,J(e.menuLists,d=>(h(),$(P,null,[d.children&&d.children.length>0?(h(),V(i,{index:d.path,key:d.path},{title:b(()=>[m(r,{name:d.meta.icon},null,8,["name"]),k("span",null,F(e.$t(d.meta.title)),1)]),default:b(()=>[m(a,{chil:d.children},null,8,["chil"])]),_:2},1032,["index"])):(h(),V(n,{index:d.path,key:d.path},Ee({default:b(()=>[m(r,{name:d.meta.icon},null,8,["name"])]),_:2},[!d.meta.isLink||d.meta.isLink&&d.meta.isIframe?{name:"title",fn:b(()=>[k("span",null,F(e.$t(d.meta.title)),1)])}:{name:"title",fn:b(()=>[k("a",{href:d.meta.isLink,target:"_blank",rel:"opener"},F(e.$t(d.meta.title)),9,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active","collapse","unique-opened"])}var wt=B(yt,[["render",Ct]]);const bt={name:"layoutAside",components:{Logo:Ne,Vertical:wt},setup(){const{proxy:e}=Q(),s=z(),o=de(),t=ue(),p=U({menuList:[],clientWidth:""}),y=T(()=>s.themeConfig),r=T(()=>t.isTagsViewCurrenFull),a=T(()=>{const{layout:g,isCollapse:S,menuBar:I}=s.themeConfig,D=I==="#FFFFFF"||I==="#FFF"||I==="#fff"||I==="#ffffff"?"layout-el-aside-br-color":"";if(p.clientWidth<=1e3)if(S){document.body.setAttribute("class","el-popup-parent--hidden");const R=document.querySelector(".layout-container"),x=document.createElement("div");return x.setAttribute("class","layout-aside-mobile-mode"),R.appendChild(x),x.addEventListener("click",i),[D,"layout-aside-mobile","layout-aside-mobile-open"]}else return i(),[D,"layout-aside-mobile","layout-aside-mobile-close"];else return g==="columns"?S?[D,"layout-aside-pc-1"]:[D,"layout-aside-pc-220"]:S?[D,"layout-aside-pc-64"]:[D,"layout-aside-pc-220"]}),i=()=>{var I;const g=document.querySelector(".layout-aside-mobile-mode");g&&((I=g.parentNode)==null||I.removeChild(g)),document.body.clientWidth<1e3&&(s.themeConfig.isCollapse=!1),document.body.setAttribute("class","")},n=T(()=>{let{layout:g,isShowLogo:S}=s.themeConfig;return S&&g==="defaults"||S&&g==="columns"}),_=()=>{if(s.themeConfig.layout==="columns")return!1;p.menuList=d(o.routesList)},d=g=>g.filter(S=>!S.meta.isHide).map(S=>(S=Object.assign({},S),S.children&&(S.children=d(S.children)),S)),C=g=>{p.clientWidth=g},f=g=>{let{layout:S}=s.themeConfig;if(S!=="columns")return!1;g||e.mittBus.emit("restoreDefault"),o.setColumnsMenuHover(g)};return se(s.themeConfig,g=>{if(g.isShowLogoChange!==g.isShowLogo){if(!e.$refs.layoutAsideScrollbarRef)return!1;e.$refs.layoutAsideScrollbarRef.update()}}),s.$subscribe((g,S)=>{let{layout:I,isClassicSplitMenu:D}=S.themeConfig;if(I==="classic"&&D)return!1;_()}),fe(()=>{C(document.body.clientWidth),_(),e.mittBus.on("setSendColumnsChildren",g=>{p.menuList=g.children}),e.mittBus.on("setSendClassicChildren",g=>{let{layout:S,isClassicSplitMenu:I}=s.themeConfig;S==="classic"&&I&&(p.menuList=[],p.menuList=g.children)}),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{_()}),e.mittBus.on("layoutMobileResize",g=>{C(g.clientWidth),i()})}),A({setCollapseStyle:a,setShowLogo:n,getThemeConfig:y,isTagsViewCurrenFull:r,onAsideEnterLeave:f},j(p))}},St={class:"h100"};function Lt(e,s,o,t,p,y){const r=u("Logo"),a=u("Vertical"),i=u("el-scrollbar"),n=u("el-aside");return Ce((h(),$("div",St,[m(n,{class:O(["layout-aside",t.setCollapseStyle])},{default:b(()=>[t.setShowLogo?(h(),V(r,{key:0})):H("",!0),m(i,{class:"flex-auto",ref:"layoutAsideScrollbarRef",onMouseenter:s[0]||(s[0]=_=>t.onAsideEnterLeave(!0)),onMouseleave:s[1]||(s[1]=_=>t.onAsideEnterLeave(!1))},{default:b(()=>[m(a,{menuList:e.menuList},null,8,["menuList"])]),_:1},512)]),_:1},8,["class"])],512)),[[we,!t.isTagsViewCurrenFull]])}var Ve=B(bt,[["render",Lt]]);const vt={name:"layoutBreadcrumb",setup(){const{proxy:e}=Q(),s=K(),o=z(),t=de(),{routesList:p}=qe(t),y=ce(),r=U({breadcrumbList:[],routeSplit:[],routeSplitFirst:"",routeSplitIndex:1}),a=T(()=>o.themeConfig),i=T(()=>{C(s.path);const{layout:f,isBreadcrumb:g}=o.themeConfig;return f==="classic"||f==="transverse"?"none":g?"":"none"}),n=f=>{const{redirect:g,path:S}=f;g?y.push(g):y.push(S)},_=()=>{e.mittBus.emit("onMenuClick"),o.themeConfig.isCollapse=!o.themeConfig.isCollapse},d=f=>{f.map(g=>{r.routeSplit.map((S,I,D)=>{r.routeSplitFirst===g.path&&(r.routeSplitFirst+=`/${D[r.routeSplitIndex]}`,r.breadcrumbList.push(g),r.routeSplitIndex++,g.children&&d(g.children))})})},C=f=>{if(!o.themeConfig.isBreadcrumb)return!1;r.breadcrumbList=[p.value[0]],r.routeSplit=f.split("/"),r.routeSplit.shift(),r.routeSplitFirst=`/${r.routeSplit[0]}`,r.routeSplitIndex=1,d(p.value)};return Z(()=>{C(s.path)}),re(f=>{C(f.path)}),A({onThemeConfigChange:_,isShowBreadcrumb:i,getThemeConfig:a,onBreadcrumbClick:n},j(r))}},kt={key:0,class:"layout-navbars-breadcrumb-span"},$t=["onClick"];function xt(e,s,o,t,p,y){const r=u("SvgIcon"),a=u("el-breadcrumb-item"),i=u("el-breadcrumb");return h(),$("div",{class:"layout-navbars-breadcrumb",style:me({display:t.isShowBreadcrumb})},[m(r,{class:"layout-navbars-breadcrumb-icon",name:t.getThemeConfig.isCollapse?"elementExpand":"elementFold",onClick:t.onThemeConfigChange},null,8,["name","onClick"]),m(i,{class:"layout-navbars-breadcrumb-hide"},{default:b(()=>[m(et,{name:"breadcrumb",mode:"out-in"},{default:b(()=>[(h(!0),$(P,null,J(e.breadcrumbList,(n,_)=>(h(),V(a,{key:n.meta.title},{default:b(()=>[_===e.breadcrumbList.length-1?(h(),$("span",kt,[t.getThemeConfig.isBreadcrumbIcon?(h(),V(r,{key:0,name:n.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):H("",!0),q(F(e.$t(n.meta.title)),1)])):(h(),$("a",{key:1,onClick:ne(d=>t.onBreadcrumbClick(n),["prevent"])},[t.getThemeConfig.isBreadcrumbIcon?(h(),V(r,{key:0,name:n.meta.icon,class:"layout-navbars-breadcrumb-iconfont"},null,8,["name"])):H("",!0),q(F(e.$t(n.meta.title)),1)],8,$t))]),_:2},1024))),128))]),_:1})]),_:1})],4)}var Vt=B(vt,[["render",xt],["__scopeId","data-v-3fd49db0"]]);const He=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Y=(()=>{const e=He[0],s={};for(const o of He)if((o==null?void 0:o[1])in document){for(const[p,y]of o.entries())s[e[p]]=y;return s}return!1})(),De={change:Y.fullscreenchange,error:Y.fullscreenerror};let W={request(e=document.documentElement,s){return new Promise((o,t)=>{const p=()=>{W.off("change",p),o()};W.on("change",p);const y=e[Y.requestFullscreen](s);y instanceof Promise&&y.then(p).catch(t)})},exit(){return new Promise((e,s)=>{if(!W.isFullscreen){e();return}const o=()=>{W.off("change",o),e()};W.on("change",o);const t=document[Y.exitFullscreen]();t instanceof Promise&&t.then(o).catch(s)})},toggle(e,s){return W.isFullscreen?W.exit():W.request(e,s)},onchange(e){W.on("change",e)},onerror(e){W.on("error",e)},on(e,s){const o=De[e];o&&document.addEventListener(o,s,!1)},off(e,s){const o=De[e];o&&document.removeEventListener(o,s,!1)},raw:Y};Object.defineProperties(W,{isFullscreen:{get:()=>Boolean(document[Y.fullscreenElement])},element:{enumerable:!0,get:()=>{var e;return(e=document[Y.fullscreenElement])!=null?e:void 0}},isEnabled:{enumerable:!0,get:()=>Boolean(document[Y.fullscreenEnabled])}});Y||(W={isEnabled:!1});var ye=W;const Tt={name:"layoutBreadcrumbUserNews",setup(){const e=ce(),s=U({newsList:[]}),o=()=>{lt({pageNum:1,pageSize:3}).then(y=>{s.newsList=y.data.data})},t=()=>{s.newsList=[]},p=()=>{e.push("/tool/notice")};return Z(()=>{o()}),A({onAllReadClick:t,onGoToGiteeClick:p},j(s))}},It={class:"layout-navbars-breadcrumb-user-news"},Ft={class:"head-box"},At={class:"head-box-title"},Rt={class:"content-box"},Mt={class:"content-box-time"};function Bt(e,s,o,t,p,y){const r=u("el-empty");return h(),$("div",It,[k("div",Ft,[k("div",At,F(e.$t("message.user.newTitle")),1),e.newsList.length>0?(h(),$("div",{key:0,class:"head-box-btn",onClick:s[0]||(s[0]=(...a)=>t.onAllReadClick&&t.onAllReadClick(...a))},F(e.$t("message.user.newBtn")),1)):H("",!0)]),k("div",Rt,[e.newsList.length>0?(h(!0),$(P,{key:0},J(e.newsList,(a,i)=>(h(),$("div",{class:"content-box-item",key:i},[k("div",null,F(a.title),1),k("div",Mt,"\u53D1\u5E03\u65F6\u95F4\uFF1A"+F(e.dateStrFormat(a.createTime)),1)]))),128)):(h(),V(r,{key:1,description:e.$t("message.user.newDesc")},null,8,["description"]))]),e.newsList.length>0?(h(),$("div",{key:0,class:"foot-box",onClick:s[1]||(s[1]=(...a)=>t.onGoToGiteeClick&&t.onGoToGiteeClick(...a))},F(e.$t("message.user.newGo")),1)):H("",!0)])}var Ht=B(Tt,[["render",Bt],["__scopeId","data-v-7968fe9b"]]);const Dt=le({name:"layoutBreadcrumbSearch",setup(){const e=ue(),{tagsViewRoutes:s}=qe(e),o=ee(),{t}=ze(),p=ce(),y=U({isShowSearch:!1,menuQuery:"",tagsViewList:[]}),r=()=>{y.menuQuery="",y.isShowSearch=!0,_(),ie(()=>{setTimeout(()=>{o.value.focus()})})},a=()=>{console.log("\u5173\u95ED\u5F39\u7A97"),y.isShowSearch=!1},i=(f,g)=>{let S=f?y.tagsViewList.filter(n(f)):y.tagsViewList;g(S)},n=f=>g=>g.path.toLowerCase().indexOf(f.toLowerCase())>-1||g.meta.title.toLowerCase().indexOf(f.toLowerCase())>-1||t(g.meta.title).indexOf(f.toLowerCase())>-1,_=()=>{if(y.tagsViewList.length>0)return!1;s.value.map(f=>{f.meta.isHide||y.tagsViewList.push(A({},f))})};return A({layoutMenuAutocompleteRef:o,openSearch:r,closeSearch:a,menuSearch:i,onHandleSelect:f=>{let{path:g,redirect:S}=f;f.meta.isLink&&!f.meta.isIframe?window.open(f.meta.isLink):S?p.push(S):p.push(g),a()},onSearchBlur:()=>{a()}},j(y))}}),Et={class:"layout-search-dialog"},qt=q(" \u6309\u4E0B ESC \u5173\u95ED ");function zt(e,s,o,t,p,y){const r=u("SvgIcon"),a=u("elementSearch"),i=u("el-icon"),n=u("el-autocomplete"),_=u("el-dialog");return h(),$("div",Et,[m(_,{modelValue:e.isShowSearch,"onUpdate:modelValue":s[1]||(s[1]=d=>e.isShowSearch=d),width:"300px","destroy-on-close":"",modal:!1,fullscreen:"","show-close":!1},{default:b(()=>[m(n,{modelValue:e.menuQuery,"onUpdate:modelValue":s[0]||(s[0]=d=>e.menuQuery=d),"fetch-suggestions":e.menuSearch,placeholder:e.$t("message.user.searchPlaceholder"),ref:"layoutMenuAutocompleteRef",onSelect:e.onHandleSelect},{prepend:b(()=>[m(r,{name:"elementClose",onClick:e.onSearchBlur,class:"mr5"},null,8,["onClick"]),qt]),prefix:b(()=>[m(i,{class:"el-input__icon"},{default:b(()=>[m(a)]),_:1})]),default:b(({item:d})=>[k("div",null,[m(r,{name:d.meta.icon,class:"mr5"},null,8,["name"]),q(" "+F(e.$t(d.meta.title)),1)])]),_:1},8,["modelValue","fetch-suggestions","placeholder","onSelect"])]),_:1},8,["modelValue"])])}var Pt=B(Dt,[["render",zt],["__scopeId","data-v-2879d3d2"]]);const Ot={name:"layoutBreadcrumbUser",components:{UserNews:Ht,Search:Pt},setup(){const{t:e}=ze(),{proxy:s}=Q();K();const o=ce(),t=z(),p=tt(),y=ee(),r=U({isScreenfull:!1,isShowUserNewsPopover:!1,disabledI18n:"zh-cn",roleId:1,roles:[{id:1,name:"\u8D85\u7EA7\u7BA1\u7406\u5458"},{id:2,name:"\u7BA1\u7406\u5458"}]}),a=T(()=>p.userInfos),i=T(()=>t.themeConfig),n=T(()=>{let{layout:R,isClassicSplitMenu:x}=i.value,v=0;return R==="defaults"||R==="classic"&&!x||R==="columns"?v=1:v=0,v}),_=()=>{if(!ye.isEnabled)return Pe.warning("\u6682\u4E0D\u4E0D\u652F\u6301\u5168\u5C4F"),!1;ye.toggle(),ye.on("change",()=>{ye.isFullscreen?r.isScreenfull=!0:r.isScreenfull=!1})},d=R=>{R==="logOut"?nt({closeOnClickModal:!1,closeOnPressEscape:!1,title:e("message.user.logOutTitle"),message:e("message.user.logOutMessage"),showCancelButton:!0,confirmButtonText:e("message.user.logOutConfirm"),cancelButtonText:e("message.user.logOutCancel"),buttonSize:"default",beforeClose:(x,v,E)=>{x==="confirm"?(v.confirmButtonLoading=!0,v.confirmButtonText=e("message.user.logOutExit"),setTimeout(()=>{E(),setTimeout(()=>{v.confirmButtonLoading=!1},300)},700)):E()}}).then(async()=>{ae.clear(),window.location.reload()}).catch(()=>{}):R==="wareHouse"?window.open("https://gitee.com/XM-GO/PandaX"):o.push(R)},C=()=>{y.value.openSearch()},f=R=>{X.remove("themeConfig"),i.value.globalI18n=R,X.set("themeConfig",i.value),s.$i18n.locale=R,I(),Oe.useTitle()},g=R=>{s.mittBus.emit("getI18nConfig",s.$i18n.messages[R])},S=()=>{i.value.isLockScreen=!0,i.value.lockScreenTime=0,X.set("themeConfig",i.value)},I=()=>{switch(X.get("themeConfig").globalI18n){case"zh-cn":r.disabledI18n="zh-cn",g("zh-cn");break;case"en":r.disabledI18n="en",g("en");break}},D=async R=>{console.log(R)};return Z(()=>{X.get("themeConfig")&&I()}),A({getUserInfos:a,onHandleCommandClick:d,onScreenfullClick:_,onSearchClick:C,onLockClick:S,onLanguageChange:f,portalChange:D,searchRef:y,layoutUserFlexNum:n},j(r))}},Nt={class:"layout-navbars-breadcrumb-user-icon"},Wt=["title"],Ut=q("\u7B80\u4F53\u4E2D\u6587"),jt=q("English"),Gt={class:"layout-navbars-breadcrumb-user-icon"},Qt=["title"],Xt={class:"layout-navbars-breadcrumb-user-link"},Yt=["src"];function Jt(e,s,o,t,p,y){const r=u("el-option"),a=u("el-select"),i=u("el-dropdown-item"),n=u("el-dropdown-menu"),_=u("el-dropdown"),d=u("elementSearch"),C=u("el-icon"),f=u("elementMonitor"),g=u("elementBell"),S=u("el-badge"),I=u("UserNews"),D=u("el-popover"),R=u("elementArrowDown"),x=u("Search");return h(),$("div",{class:"layout-navbars-breadcrumb-user",style:me({flex:t.layoutUserFlexNum})},[k("div",null,[m(a,{modelValue:e.roleId,"onUpdate:modelValue":s[0]||(s[0]=v=>e.roleId=v),placeholder:"\u5207\u6362\u89D2\u8272",onChange:t.portalChange,style:{"margin-right":"10px",width:"140px"}},{default:b(()=>[(h(!0),$(P,null,J(e.roles,v=>(h(),V(r,{key:v.id,label:v.name,value:v.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","onChange"])]),m(_,{"show-timeout":70,"hide-timeout":50,onCommand:t.onLanguageChange},{dropdown:b(()=>[m(n,null,{default:b(()=>[m(i,{command:"zh-cn",disabled:e.disabledI18n==="zh-cn"},{default:b(()=>[Ut]),_:1},8,["disabled"]),m(i,{command:"en",disabled:e.disabledI18n==="en"},{default:b(()=>[jt]),_:1},8,["disabled"])]),_:1})]),default:b(()=>[k("div",Nt,[k("i",{class:O(["iconfont",e.disabledI18n==="en"?"icon-fuhao-yingwen":"icon-fuhao-zhongwen"]),style:{"font-size":"18px"},title:e.$t("message.user.title1")},null,10,Wt)])]),_:1},8,["onCommand"]),k("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:s[1]||(s[1]=(...v)=>t.onSearchClick&&t.onSearchClick(...v))},[m(C,{title:e.$t("message.user.title2")},{default:b(()=>[m(d)]),_:1},8,["title"])]),k("div",{class:"layout-navbars-breadcrumb-user-icon",onClick:s[2]||(s[2]=(...v)=>t.onLockClick&&t.onLockClick(...v))},[m(C,{title:"\u9501\u5C4F"},{default:b(()=>[m(f)]),_:1})]),k("div",Gt,[m(D,{placement:"bottom",transition:"el-zoom-in-top",width:300,persistent:!1},{reference:b(()=>[m(S,{"is-dot":!0},{default:b(()=>[m(C,{title:e.$t("message.user.title4")},{default:b(()=>[m(g)]),_:1},8,["title"])]),_:1})]),default:b(()=>[m(I)]),_:1})]),k("div",{class:"layout-navbars-breadcrumb-user-icon mr10",onClick:s[3]||(s[3]=(...v)=>t.onScreenfullClick&&t.onScreenfullClick(...v))},[k("i",{class:O(["iconfont",e.isScreenfull?"icon-tuichuquanping":"icon-fullscreen"]),title:e.isScreenfull?e.$t("message.user.title6"):e.$t("message.user.title5")},null,10,Qt)]),m(_,{"show-timeout":70,"hide-timeout":50,onCommand:t.onHandleCommandClick},{dropdown:b(()=>[m(n,null,{default:b(()=>[m(i,{command:"/home"},{default:b(()=>[q(F(e.$t("message.user.dropdown1")),1)]),_:1}),m(i,{command:"wareHouse"},{default:b(()=>[q(F(e.$t("message.user.dropdown6")),1)]),_:1}),m(i,{command:"/personal"},{default:b(()=>[q(F(e.$t("message.user.dropdown2")),1)]),_:1}),m(i,{command:"/404"},{default:b(()=>[q(F(e.$t("message.user.dropdown3")),1)]),_:1}),m(i,{command:"/401"},{default:b(()=>[q(F(e.$t("message.user.dropdown4")),1)]),_:1}),m(i,{divided:"",command:"logOut"},{default:b(()=>[q(F(e.$t("message.user.dropdown5")),1)]),_:1})]),_:1})]),default:b(()=>[k("span",Xt,[k("img",{src:t.getUserInfos.photo,class:"layout-navbars-breadcrumb-user-link-photo mr5"},null,8,Yt),q(" "+F(t.getUserInfos.username===""?"test":t.getUserInfos.username)+" ",1),m(C,{class:"el-icon--right"},{default:b(()=>[m(R)]),_:1})])]),_:1},8,["onCommand"]),m(x,{ref:"searchRef"},null,512)],4)}var Kt=B(Ot,[["render",Jt],["__scopeId","data-v-62fef6d8"]]);const Zt=le({name:"navMenuHorizontal",components:{SubItem:We},props:{menuList:{type:Array,default:()=>[]}},setup(e){const{proxy:s}=Q(),o=K(),t=z(),p=de(),y=U({defaultActive:null}),r=T(()=>e.menuList),a=C=>{const f=C.wheelDelta||-C.deltaY*40;s.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft=s.$refs.elMenuHorizontalScrollRef.$refs.wrap.scrollLeft+f/4},i=()=>{ie(()=>{let C=document.querySelector(".el-menu.el-menu--horizontal li.is-active");if(!C)return!1;s.$refs.elMenuHorizontalScrollRef.$refs.wrap$.scrollLeft=C.offsetLeft})},n=C=>C.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=n(f.children)),f)),_=C=>{const f=C.split("/");let g={};return n(p.routesList).map((S,I)=>{S.path===`/${f[1]}`&&(S.k=I,g.item=[A({},S)],g.children=[A({},S)],S.children&&(g.children=S.children))}),g},d=C=>{const{path:f,meta:g}=C;if(t.themeConfig.layout==="classic")y.defaultActive=`/${f.split("/")[1]}`;else{const S=g.isDynamic?g.isDynamicPath.split("/"):f.split("/");S.length>=4&&g.isHide?y.defaultActive=S.splice(0,3).join("/"):y.defaultActive=f}};return fe(()=>{d(o)}),Z(()=>{i()}),re(C=>{d(C),s.mittBus.emit("onMenuClick");let{layout:f,isClassicSplitMenu:g}=t.themeConfig;f==="classic"&&g&&s.mittBus.emit("setSendClassicChildren",_(C.path))}),A({menuLists:r,onElMenuHorizontalScroll:a},j(y))}}),en={class:"el-menu-horizontal-warp"};function tn(e,s,o,t,p,y){const r=u("SvgIcon"),a=u("SubItem"),i=u("el-sub-menu"),n=u("el-menu-item"),_=u("el-menu"),d=u("el-scrollbar");return h(),$("div",en,[m(d,{onWheel:ne(e.onElMenuHorizontalScroll,["prevent"]),ref:"elMenuHorizontalScrollRef"},{default:b(()=>[m(_,{router:"","default-active":e.defaultActive,ellipsis:!1,"background-color":"transparent",mode:"horizontal"},{default:b(()=>[(h(!0),$(P,null,J(e.menuLists,C=>(h(),$(P,null,[C.children&&C.children.length>0?(h(),V(i,{index:C.path,key:C.path},{title:b(()=>[m(r,{name:C.meta.icon},null,8,["name"]),k("span",null,F(e.$t(C.meta.title)),1)]),default:b(()=>[m(a,{chil:C.children},null,8,["chil"])]),_:2},1032,["index"])):(h(),V(n,{index:C.path,key:C.path},Ee({_:2},[!C.meta.isLink||C.meta.isLink&&C.meta.isIframe?{name:"title",fn:b(()=>[m(r,{name:C.meta.icon},null,8,["name"]),q(" "+F(e.$t(C.meta.title)),1)])}:{name:"title",fn:b(()=>[k("a",{href:C.meta.isLink,target:"_blank",rel:"opener"},[m(r,{name:C.meta.icon},null,8,["name"]),q(" "+F(e.$t(C.meta.title)),1)],8,["href"])])}]),1032,["index"]))],64))),256))]),_:1},8,["default-active"])]),_:1},8,["onWheel"])])}var nn=B(Zt,[["render",tn],["__scopeId","data-v-7e08f984"]]);const sn={name:"layoutBreadcrumbIndex",components:{Breadcrumb:Vt,User:Kt,Logo:Ne,Horizontal:nn},setup(){const{proxy:e}=Q(),s=z(),o=de(),t=K(),p=U({menuList:[]}),y=T(()=>s.themeConfig),r=T(()=>{let{isShowLogo:C,layout:f}=s.themeConfig;return C&&f==="classic"||C&&f==="transverse"}),a=T(()=>{let{layout:C,isClassicSplitMenu:f}=s.themeConfig;return C==="transverse"||f&&C==="classic"}),i=()=>{let{layout:C,isClassicSplitMenu:f}=s.themeConfig;if(C==="classic"&&f){p.menuList=n(_(o.routesList));const g=d(t.path);e.mittBus.emit("setSendClassicChildren",g)}else p.menuList=_(o.routesList)},n=C=>(C.map(f=>{f.children&&delete f.children}),C),_=C=>C.filter(f=>!f.meta.isHide).map(f=>(f=Object.assign({},f),f.children&&(f.children=_(f.children)),f)),d=C=>{const f=C.split("/");let g={};return _(o.routesList).map((S,I)=>{S.path===`/${f[1]}`&&(S.k=I,g.item=[A({},S)],g.children=[A({},S)],S.children&&(g.children=S.children))}),g};return Z(()=>{i(),e.mittBus.on("getBreadcrumbIndexSetFilterRoutes",()=>{i()})}),pe(()=>{e.mittBus.off("getBreadcrumbIndexSetFilterRoutes")}),A({getThemeConfig:y,setIsShowLogo:r,isLayoutTransverse:a},j(p))}},on={class:"layout-navbars-breadcrumb-index"};function an(e,s,o,t,p,y){const r=u("Logo"),a=u("Breadcrumb"),i=u("Horizontal"),n=u("User");return h(),$("div",on,[t.setIsShowLogo?(h(),V(r,{key:0})):H("",!0),m(a),t.isLayoutTransverse?(h(),V(i,{key:1,menuList:e.menuList},null,8,["menuList"])):H("",!0),m(n)])}var ln=B(sn,[["render",an],["__scopeId","data-v-d9bd1fd0"]]);const rn=le({name:"layoutTagsViewContextmenu",props:{dropdown:{type:Object}},setup(e,{emit:s}){const o=U({isShow:!1,dropdownList:[{contextMenuClickId:0,txt:"message.tagsView.refresh",affix:!1,icon:"elementRefreshRight"},{contextMenuClickId:1,txt:"message.tagsView.close",affix:!1,icon:"elementClose"},{contextMenuClickId:2,txt:"message.tagsView.closeOther",affix:!1,icon:"elementCircleClose"},{contextMenuClickId:3,txt:"message.tagsView.closeAll",affix:!1,icon:"elementFolderDelete"},{contextMenuClickId:4,txt:"message.tagsView.fullscreen",affix:!1,icon:"iconfont icon-fullscreen"}],item:{},arrowLeft:10}),t=T(()=>e.dropdown.x+117>document.documentElement.clientWidth?{x:document.documentElement.clientWidth-117-5,y:e.dropdown.y}:e.dropdown),p=a=>{s("currentContextmenuClick",Object.assign({},{contextMenuClickId:a},o.item))},y=a=>{o.item=a,a.meta.isAffix?o.dropdownList[1].affix=!0:o.dropdownList[1].affix=!1,r(),setTimeout(()=>{o.isShow=!0},10)},r=()=>{o.isShow=!1};return se(()=>e.dropdown,({x:a})=>{a+117>document.documentElement.clientWidth?o.arrowLeft=117-(document.documentElement.clientWidth-a):o.arrowLeft=10},{deep:!0}),Z(()=>{document.body.addEventListener("click",r)}),pe(()=>{document.body.removeEventListener("click",r)}),A({dropdowns:t,openContextmenu:y,closeContextmenu:r,onCurrentContextmenuClick:p},j(o))}}),cn={class:"el-dropdown-menu"},un=["onClick"];function mn(e,s,o,t,p,y){const r=u("SvgIcon");return h(),V(st,{name:"el-zoom-in-center"},{default:b(()=>[Ce((h(),$("div",{"aria-hidden":"true",class:"el-dropdown__popper el-popper is-light is-pure custom-contextmenu",role:"tooltip","data-popper-placement":"bottom",style:me(`top: ${e.dropdowns.y+5}px;left: ${e.dropdowns.x}px;`),key:Math.random()},[k("ul",cn,[(h(!0),$(P,null,J(e.dropdownList,(a,i)=>(h(),$(P,null,[a.affix?H("",!0):(h(),$("li",{class:"el-dropdown-menu__item","aria-disabled":"false",tabindex:"-1",key:i,onClick:n=>e.onCurrentContextmenuClick(a.contextMenuClickId)},[m(r,{name:a.icon},null,8,["name"]),k("span",null,F(e.$t(a.txt)),1)],8,un))],64))),256))]),k("div",{class:"el-popper__arrow",style:me({left:`${e.arrowLeft}px`})},null,4)],4)),[[we,e.isShow]])]),_:1})}var dn=B(rn,[["render",mn],["__scopeId","data-v-0e56609e"]]);const fn={name:"layoutTagsView",components:{Contextmenu:dn},setup(){const{proxy:e}=Q(),s=ee([]),o=ee(),t=ee(),p=ee(),y=z(),r=ue(),a=K(),i=ce(),n=U({routeActive:"",routePath:a.path,dropdown:{x:"",y:""},tagsRefsIndex:0,tagsViewList:[],sortable:"",tagsViewRoutesList:[]}),_=T(()=>y.themeConfig.tagsStyle),d=T(()=>(console.log("theme.themeConfig",y.themeConfig),y.themeConfig)),C=c=>d.value.isShareTagsView?c.path===n.routePath:c.url?c.url===n.routeActive:c.path===n.routeActive,f=c=>{ae.set("tagsViewList",c)},g=async()=>{n.routeActive=await te(a),n.routePath=await a.meta.isDynamic?a.meta.isDynamicPath:a.path,n.tagsViewList=[],n.tagsViewRoutesList=r.tagsViewRoutes,S()},S=async()=>{ae.get("tagsViewList")&&d.value.isCacheTagsView?n.tagsViewList=await ae.get("tagsViewList"):(await n.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(c.url=te(c),n.tagsViewList.push(A({},c)))}),await R(a.path,a)),Fe(d.value.isShareTagsView?n.routePath:n.routeActive)},I=async(c,l)=>{let L=l.meta.isDynamic?l.meta.isDynamicPath:c;if(n.tagsViewList.filter(M=>M.path===L&&xe(l.meta.isDynamic?M.params?M.params:null:M.query?M.query:null,l.meta.isDynamic?l!=null&&l.params?l==null?void 0:l.params:null:l!=null&&l.query?l==null?void 0:l.query:null)).length<=0){let M=n.tagsViewRoutesList.find(G=>G.path===L);if(!M||M.meta.isAffix||M.meta.isLink&&!M.meta.isIframe)return!1;l.meta.isDynamic?M.params=l.params:M.query=l.query,M.url=te(M),n.tagsViewList.push(A({},M)),f(n.tagsViewList)}},D=(c,l)=>{let L=l.meta.isDynamic?l.meta.isDynamicPath:c;n.tagsViewList.forEach(w=>{w.path===L&&!xe(l.meta.isDynamic?w.params?w.params:null:w.query?w.query:null,l.meta.isDynamic?l!=null&&l.params?l==null?void 0:l.params:null:l!=null&&l.query?l==null?void 0:l.query:null)&&(l.meta.isDynamic?w.params=l.params:w.query=l.query,w.url=te(w),f(n.tagsViewList))})},R=(c,l)=>{ie(async()=>{let L="";if(l&&l.meta.isDynamic){if(d.value.isShareTagsView?await D(c,l):await I(c,l),n.tagsViewList.some(w=>w.path===l.meta.isDynamicPath))return!1;L=n.tagsViewRoutesList.find(w=>w.path===l.meta.isDynamicPath)}else{if(d.value.isShareTagsView?await D(c,l):await I(c,l),n.tagsViewList.some(w=>w.path===c))return!1;L=n.tagsViewRoutesList.find(w=>w.path===c)}if(!L||L.meta.isLink&&!L.meta.isIframe)return!1;l&&l.meta.isDynamic?L.params=l!=null&&l.params?l==null?void 0:l.params:a.params:L.query=l!=null&&l.query?l==null?void 0:l.query:a.query,L.url=te(L),await n.tagsViewList.push(A({},L)),await f(n.tagsViewList)})},x=c=>{e.mittBus.emit("onTagsViewRefreshRouterView",c)},v=c=>{n.tagsViewList.map((l,L,w)=>{l.meta.isAffix||(d.value.isShareTagsView?l.path===c:l.url===c)&&(n.tagsViewList.splice(L,1),setTimeout(()=>{(n.tagsViewList.length===L&&d.value.isShareTagsView?n.routePath===c:n.routeActive===c)?w[w.length-1].meta.isDynamic?L!==w.length?i.push({name:w[L].name,params:w[L].params}):i.push({name:w[w.length-1].name,params:w[w.length-1].params}):L!==w.length?i.push({path:w[L].path,query:w[L].query}):i.push({path:w[w.length-1].path,query:w[w.length-1].query}):(n.tagsViewList.length!==L&&d.value.isShareTagsView?n.routePath===c:n.routeActive===c)&&(w[L].meta.isDynamic?i.push({name:w[L].name,params:w[L].params}):i.push({path:w[L].path,query:w[L].query}))},0))}),f(n.tagsViewList)},E=c=>{n.tagsViewList=[],n.tagsViewRoutesList.map(l=>{l.meta.isAffix&&!l.meta.isHide&&n.tagsViewList.push(A({},l))}),R(c,a)},N=()=>{n.tagsViewList=[],n.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(n.tagsViewList.push(A({},c)),i.push({path:n.tagsViewList[n.tagsViewList.length-1].path}))}),f(n.tagsViewList)},Le=async c=>{const l=n.tagsViewList.find(L=>d.value.isShareTagsView?L.path===c:L.url===c);l.meta.isDynamic?await i.push({name:l.name,params:l.params}):await i.push({name:l.name,query:l.query}),r.setCurrenFullscreen(!0)},Te=(c,l)=>(ae.get("tagsViewList")?ae.get("tagsViewList"):n.tagsViewList).find(w=>{if(w.path===c&&xe(w.meta.isDynamic?w.params?w.params:null:w.query?w.query:null,l&&Object.keys(l||{}).length>0?l:null))return w;if(w.path===c&&Object.keys(l||{}).length<=0)return w}),Ie=async c=>{const l=c.meta.isDynamic?c.params:c.query;if(!Te(c.path,l))return Pe({type:"warning",message:"\u8BF7\u6B63\u786E\u8F93\u5165\u8DEF\u5F84\u53CA\u5B8C\u6574\u53C2\u6570\uFF08query\u3001params\uFF09"});const{path:L,name:w,params:M,query:G,meta:he,url:oe}=Te(c.path,l);switch(c.contextMenuClickId){case 0:he.isDynamic?await i.push({name:w,params:M}):await i.push({path:L,query:G}),x(a.fullPath);break;case 1:v(d.value.isShareTagsView?L:oe);break;case 2:he.isDynamic?await i.push({name:w,params:M}):await i.push({path:L,query:G}),E(L);break;case 3:N();break;case 4:Le(d.value.isShareTagsView?L:oe);break}},je=(c,l)=>{const{clientX:L,clientY:w}=l;n.dropdown.x=L,n.dropdown.y=w,t.value.openContextmenu(c)},Ge=(c,l)=>{n.tagsRefsIndex=l,i.push(c)},te=c=>{let l=c.query&&Object.keys(c.query).length>0?c.query:c.params;if(!l||Object.keys(l).length<=0)return c.path;let L="";for(let w in l)L+=l[w];return`${c.meta.isDynamic?c.meta.isDynamicPath:c.path}-${L}`},Qe=()=>{e.$refs.scrollbarRef.update()},Xe=c=>{e.$refs.scrollbarRef.$refs.wrap$.scrollLeft+=c.wheelDelta/4},Ye=()=>{ie(()=>{if(s.value.length<=0)return!1;let c=s.value[n.tagsRefsIndex],l=n.tagsRefsIndex,L=s.value.length,w=s.value[0],M=s.value[s.value.length-1],G=e.$refs.scrollbarRef.$refs.wrap$,he=G.scrollWidth,oe=G.offsetWidth,Ae=G.scrollLeft,$e=s.value[n.tagsRefsIndex-1],Re=s.value[n.tagsRefsIndex+1],_e="",ge="";c===w?G.scrollLeft=0:c===M?G.scrollLeft=he-oe:(l===0?_e=w.offsetLeft-5:_e=($e==null?void 0:$e.offsetLeft)-5,l===L?ge=M.offsetLeft+M.offsetWidth+5:ge=Re.offsetLeft+Re.offsetWidth+5,ge>Ae+oe?G.scrollLeft=ge-oe:_e<Ae&&(G.scrollLeft=_e)),Qe()})},Fe=c=>{ie(async()=>{let l=await n.tagsViewList;n.tagsRefsIndex=l.findIndex(L=>d.value.isShareTagsView?L.path===c:L.url===c),Ye()})},ve=async()=>{const c=document.querySelector(".layout-navbars-tagsview-ul");if(!c)return!1;n.sortable.el&&n.sortable.destroy(),n.sortable=rt.create(c,{animation:300,dataIdAttr:"data-url",disabled:!d.value.isSortableTagsView,onEnd:()=>{const l=[];n.sortable.toArray().map(L=>{n.tagsViewList.map(w=>{w.url===L&&l.push(A({},w))})}),f(l)}})},ke=async()=>{await ve(),Oe.isMobile()&&n.sortable.el&&n.sortable.destroy()};return fe(()=>{ke(),window.addEventListener("resize",ke),e.mittBus.on("onCurrentContextmenuClick",c=>{Ie(c)}),e.mittBus.on("openOrCloseSortable",()=>{ve()}),e.mittBus.on("openShareTagsView",()=>{d.value.isShareTagsView&&(i.push("/home"),n.tagsViewList=[],n.tagsViewRoutesList.map(c=>{c.meta.isAffix&&!c.meta.isHide&&(c.url=te(c),n.tagsViewList.push(A({},c)))}))})}),pe(()=>{e.mittBus.off("onCurrentContextmenuClick"),e.mittBus.off("openOrCloseSortable"),e.mittBus.off("openShareTagsView"),window.removeEventListener("resize",ke)}),ot(()=>{s.value=[]}),Z(()=>{g(),ve()}),re(async c=>{n.routeActive=te(c),n.routePath=c.meta.isDynamic?c.meta.isDynamicPath:c.path,await R(c.path,c),Fe(d.value.isShareTagsView?n.routePath:n.routeActive)}),r.$subscribe((c,l)=>{if(l.tagsViewRoutes.length===n.tagsViewRoutesList.length)return!1;g()}),se(ue,c=>{if(c.tagsViewRoutes.length===n.tagsViewRoutesList.length)return!1;g()},{deep:!0}),A({isActive:C,onContextmenu:je,getTagsViewRoutes:g,onTagsClick:Ge,tagsRefs:s,contextmenuRef:t,scrollbarRef:o,tagsUlRef:p,onHandleScroll:Xe,getThemeConfig:d,setTagsStyle:_,refreshCurrentTagsView:x,closeCurrentTagsView:v,onCurrentContextmenuClick:Ie},j(n))}},pn=["data-url","onContextmenu","onClick"],hn={key:0,class:"iconfont icon-webicon318 layout-navbars-tagsview-ul-li-iconfont font14"};function _n(e,s,o,t,p,y){const r=u("SvgIcon"),a=u("el-scrollbar"),i=u("Contextmenu");return h(),$("div",{class:O(["layout-navbars-tagsview",{"layout-navbars-tagsview-shadow":t.getThemeConfig.layout==="classic"}])},[m(a,{ref:"scrollbarRef",onWheel:ne(t.onHandleScroll,["prevent"])},{default:b(()=>[k("ul",{class:O(["layout-navbars-tagsview-ul",t.setTagsStyle]),ref:"tagsUlRef"},[(h(!0),$(P,null,J(e.tagsViewList,(n,_)=>(h(),$("li",{key:_,class:O(["layout-navbars-tagsview-ul-li",{"is-active":t.isActive(n)}]),"data-url":n.url,onContextmenu:ne(d=>t.onContextmenu(n,d),["prevent"]),onClick:d=>t.onTagsClick(n,_),ref_for:!0,ref:d=>{d&&(t.tagsRefs[_]=d)}},[t.isActive(n)?(h(),$("i",hn)):H("",!0),!t.isActive(n)&&t.getThemeConfig.isTagsviewIcon?(h(),V(r,{key:1,name:n.meta.icon,class:"pr5"},null,8,["name"])):H("",!0),k("span",null,F(e.$t(n.meta.title)),1),t.isActive(n)?(h(),$(P,{key:2},[m(r,{name:"elementRefreshRight",class:"ml5 layout-navbars-tagsview-ul-li-refresh",onClick:s[0]||(s[0]=ne(d=>t.refreshCurrentTagsView(e.$route.fullPath),["stop"]))}),n.meta.isAffix?H("",!0):(h(),V(r,{key:0,name:"elementClose",class:"layout-navbars-tagsview-ul-li-icon layout-icon-active",onClick:ne(d=>t.closeCurrentTagsView(t.getThemeConfig.isShareTagsView?n.path:n.url),["stop"])},null,8,["onClick"]))],64)):H("",!0),n.meta.isAffix?H("",!0):(h(),V(r,{key:3,name:"elementClose",class:"layout-navbars-tagsview-ul-li-icon layout-icon-three",onClick:ne(d=>t.closeCurrentTagsView(t.getThemeConfig.isShareTagsView?n.path:n.url),["stop"])},null,8,["onClick"]))],42,pn))),128))],2)]),_:1},8,["onWheel"]),m(i,{dropdown:e.dropdown,ref:"contextmenuRef",onCurrentContextmenuClick:t.onCurrentContextmenuClick},null,8,["dropdown","onCurrentContextmenuClick"])],2)}var Ue=B(fn,[["render",_n],["__scopeId","data-v-351087b7"]]);const gn={name:"layoutNavBars",components:{BreadcrumbIndex:ln,TagsView:Ue},setup(){const e=z();return{setShowTagsView:T(()=>{let{layout:o,isTagsview:t}=e.themeConfig;return o!=="classic"&&t})}}},yn={class:"layout-navbars-container"};function Cn(e,s,o,t,p,y){const r=u("BreadcrumbIndex"),a=u("TagsView");return h(),$("div",yn,[m(r),t.setShowTagsView?(h(),V(a,{key:0})):H("",!0)])}var wn=B(gn,[["render",Cn],["__scopeId","data-v-18e09332"]]);const bn={name:"layoutHeader",components:{NavBarsIndex:wn},setup(){const e=z(),s=ue(),o=T(()=>{let{isTagsview:p,layout:y}=e.themeConfig;return p&&y!=="classic"?"84px":"50px"}),t=T(()=>s.isTagsViewCurrenFull);return{setHeaderHeight:o,isTagsViewCurrenFull:t}}};function Sn(e,s,o,t,p,y){const r=u("NavBarsIndex"),a=u("el-header");return Ce((h(),V(a,{class:"layout-header",height:t.setHeaderHeight},{default:b(()=>[m(r)]),_:1},8,["height"])),[[we,!t.isTagsViewCurrenFull]])}var be=B(bn,[["render",Sn]]);const Ln={name:"layoutFooter",setup(){const e=U({isDelayFooter:!0});return re(()=>{e.isDelayFooter=!1,setTimeout(()=>{e.isDelayFooter=!0},800)}),A({},j(e))}},vn=e=>(at("data-v-7f97298f"),e=e(),it(),e),kn={class:"layout-footer mt15"},$n={class:"layout-footer-warp"},xn=vn(()=>k("div",null,"PandaUi\uFF0CMade by Panda with \u2764\uFE0F",-1)),Vn={class:"mt5"};function Tn(e,s,o,t,p,y){return Ce((h(),$("div",kn,[k("div",$n,[xn,k("div",Vn,F(e.$t("message.copyright.one5")),1)])],512)),[[we,e.isDelayFooter]])}var In=B(Ln,[["render",Tn],["__scopeId","data-v-7f97298f"]]);const Fn=le({name:"layoutMain",components:{LayoutParentView:ct,Footer:In},setup(){const{proxy:e}=Q(),s=K(),o=z(),t=U({headerHeight:"",currentRouteMeta:{}}),p=T(()=>o.themeConfig),y=()=>{let{isTagsview:i}=o.themeConfig;return i?t.headerHeight="84px":t.headerHeight="50px"},r=()=>{t.currentRouteMeta=s.meta},a=()=>{e.mittBus.emit("openSetingsDrawer")};return fe(()=>{y(),r()}),se(o.themeConfig,i=>{if(t.headerHeight=i.isTagsview?"84px":"50px",i.isFixedHeaderChange!==i.isFixedHeader){if(!e.$refs.layoutScrollbarRef)return!1;e.$refs.layoutScrollbarRef.update()}}),se(()=>s.path,()=>{t.currentRouteMeta=s.meta}),A({getThemeConfig:p,showSettingDrawer:a},j(t))}});function An(e,s,o,t,p,y){const r=u("SvgIcon"),a=u("el-button"),i=u("LayoutParentView"),n=u("Footer"),_=u("el-scrollbar"),d=u("el-main");return h(),V(d,{class:"layout-main"},{default:b(()=>[m(a,{type:"primary",color:"#626aef",class:"drawer-container",onClick:e.showSettingDrawer},{default:b(()=>[m(r,{name:"elementSetting"})]),_:1},8,["onClick"]),m(_,{class:"layout-scrollbar",ref:"layoutScrollbarRef",style:me({minHeight:`calc(100vh - ${e.headerHeight})`,padding:e.currentRouteMeta.isLink&&e.currentRouteMeta.isIframe?0:"",transition:"padding 0.3s ease-in-out"})},{default:b(()=>[m(i),e.getThemeConfig.isFooter?(h(),V(n,{key:0})):H("",!0)]),_:1},8,["style"])]),_:1})}var Se=B(Fn,[["render",An],["__scopeId","data-v-790105a6"]]);const Rn={name:"layoutDefaults",components:{Aside:Ve,Header:be,Main:Se},setup(){const{proxy:e}=Q(),s=K(),o=z(),t=T(()=>o.themeConfig.isFixedHeader);return se(()=>s.path,()=>{e.$refs.layoutDefaultsScrollbarRef.wrap$.scrollTop=0}),{isFixedHeader:t}}};function Mn(e,s,o,t,p,y){const r=u("Aside"),a=u("Header"),i=u("Main"),n=u("el-scrollbar"),_=u("el-container"),d=u("el-backtop");return h(),V(_,{class:"layout-container"},{default:b(()=>[m(r),m(_,{class:O(["flex-center",{"layout-backtop":!t.isFixedHeader}])},{default:b(()=>[t.isFixedHeader?(h(),V(a,{key:0})):H("",!0),m(n,{ref:"layoutDefaultsScrollbarRef",class:O({"layout-backtop":t.isFixedHeader})},{default:b(()=>[t.isFixedHeader?H("",!0):(h(),V(a,{key:0})),m(i)]),_:1},8,["class"])]),_:1},8,["class"]),m(d,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var Bn=B(Rn,[["render",Mn]]);const Hn={name:"layoutClassic",components:{Aside:Ve,Header:be,Main:Se,TagsView:Ue},setup(){const e=z();return{getThemeConfig:T(()=>e.themeConfig)}}},Dn={class:"flex-center layout-backtop"};function En(e,s,o,t,p,y){const r=u("Header"),a=u("Aside"),i=u("TagsView"),n=u("Main"),_=u("el-container"),d=u("el-backtop");return h(),V(_,{class:"layout-container flex-center"},{default:b(()=>[m(r),m(_,{class:"layout-mian-height-50"},{default:b(()=>[m(a),k("div",Dn,[t.getThemeConfig.isTagsview?(h(),V(i,{key:0})):H("",!0),m(n)])]),_:1}),m(d,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var qn=B(Hn,[["render",En]]);const zn={name:"layoutTransverse",components:{Header:be,Main:Se}};function Pn(e,s,o,t,p,y){const r=u("Header"),a=u("Main"),i=u("el-backtop"),n=u("el-container");return h(),V(n,{class:"layout-container flex-center layout-backtop"},{default:b(()=>[m(r),m(a),m(i,{target:".layout-backtop .el-main .el-scrollbar__wrap"})]),_:1})}var On=B(zn,[["render",Pn]]);const Nn={name:"layoutColumnsAside",setup(){const e=ee([]),s=ee(),{proxy:o}=Q(),t=z(),p=de(),y=K(),r=ce(),a=U({columnsAsideList:[],liIndex:0,liOldIndex:null,liHoverIndex:null,liOldPath:null,difference:0,routeSplit:[],isNavHover:!1}),i=T(()=>t.themeConfig.columnsAsideStyle),n=T(()=>t.themeConfig.columnsAsideLayout),_=x=>{a.liIndex=x,s.value.style.top=`${e.value[x].offsetTop+a.difference}px`},d=(x,v)=>{_(v);let{path:E,redirect:N}=x;N?r.push(N):r.push(E)},C=(x,v)=>{let{path:E}=x;a.liOldPath=E,a.liOldIndex=v,a.liHoverIndex=v,o.mittBus.emit("setSendColumnsChildren",I(E)),p.setColumnsMenuHover(!1),p.setColumnsNavHover(!0),a.isNavHover=!0},f=async()=>{await p.setColumnsNavHover(!1),setTimeout(()=>{const{isColumnsMenuHover:x,isColumnsNavHover:v}=p;!x&&!v&&o.mittBus.emit("restoreDefault")},100)},g=x=>{ie(()=>{_(x)})},S=()=>{a.columnsAsideList=D(p.routesList);const x=I(y.path);if(Object.keys(x).length<=0)return!1;g(x.item[0].k),o.mittBus.emit("setSendColumnsChildren",x)},I=x=>{const v=x.split("/");let E={};return a.columnsAsideList.map((N,Le)=>{N.path===`/${v[1]}`&&(N.k=Le,E.item=[A({},N)],E.children=[A({},N)],N.children&&(E.children=N.children))}),E},D=x=>x.filter(v=>!v.meta.isHide).map(v=>(v=Object.assign({},v),v.children&&(v.children=D(v.children)),v)),R=x=>{a.routeSplit=x.split("/"),a.routeSplit.shift();const v=`/${a.routeSplit[0]}`,E=a.columnsAsideList.find(N=>N.path===v);if(!E)return!1;setTimeout(()=>{g(E.k)},0)};return t.$subscribe((x,v)=>{v.themeConfig.columnsAsideStyle==="columnsRound"?a.difference=3:a.difference=0}),p.$subscribe((x,v)=>{if(!v.isColumnsMenuHover&&!v.isColumnsNavHover)a.liHoverIndex=null,o.mittBus.emit("setSendColumnsChildren",I(y.path));else{if(a.liHoverIndex=a.liOldIndex,!a.liOldPath)return!1;o.mittBus.emit("setSendColumnsChildren",I(a.liOldPath))}}),Z(()=>{S(),o.mittBus.on("restoreDefault",()=>{a.liOldIndex=null,a.liOldPath=null})}),pe(()=>{o.mittBus.off("restoreDefault",()=>{})}),re(x=>{R(x.path),o.mittBus.emit("setSendColumnsChildren",I(x.path))}),A({columnsAsideOffsetTopRefs:e,columnsAsideActiveRef:s,onColumnsAsideDown:g,setColumnsAsideStyle:i,setColumnsAsidelayout:n,onColumnsAsideMenuClick:d,onColumnsAsideMenuMouseenter:C,onColumnsAsideMenuMouseleave:f},j(a))}},Wn={class:"layout-columns-aside"},Un=["onClick","onMouseenter","title"],jn={class:"columns-vertical-title font12"},Gn=["href"],Qn={class:"columns-vertical-title font12"};function Xn(e,s,o,t,p,y){const r=u("SvgIcon"),a=u("el-scrollbar");return h(),$("div",Wn,[m(a,null,{default:b(()=>[k("ul",{onMouseleave:s[0]||(s[0]=i=>t.onColumnsAsideMenuMouseleave())},[(h(!0),$(P,null,J(e.columnsAsideList,(i,n)=>(h(),$("li",{key:n,onClick:_=>t.onColumnsAsideMenuClick(i,n),onMouseenter:_=>t.onColumnsAsideMenuMouseenter(i,n),ref_for:!0,ref:_=>{_&&(t.columnsAsideOffsetTopRefs[n]=_)},class:O({"layout-columns-active":e.liIndex===n,"layout-columns-hover":e.liHoverIndex===n}),title:e.$t(i.meta.title)},[!i.meta.isLink||i.meta.isLink&&i.meta.isIframe?(h(),$("div",{key:0,class:O(t.setColumnsAsidelayout)},[m(r,{name:i.meta.icon},null,8,["name"]),k("div",jn,F(e.$t(i.meta.title)&&e.$t(i.meta.title).length>=4?e.$t(i.meta.title).substr(0,t.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(i.meta.title)),1)],2)):(h(),$("div",{key:1,class:O(t.setColumnsAsidelayout)},[k("a",{href:i.meta.isLink,target:"_blank"},[m(r,{name:i.meta.icon},null,8,["name"]),k("div",Qn,F(e.$t(i.meta.title)&&e.$t(i.meta.title).length>=4?e.$t(i.meta.title).substr(0,t.setColumnsAsidelayout==="columns-vertical"?4:3):e.$t(i.meta.title)),1)],8,Gn)],2))],42,Un))),128)),k("div",{ref:"columnsAsideActiveRef",class:O(t.setColumnsAsideStyle)},null,2)],32)]),_:1})])}var Yn=B(Nn,[["render",Xn],["__scopeId","data-v-25df507c"]]);const Jn={name:"layoutColumns",components:{Aside:Ve,Header:be,Main:Se,ColumnsAside:Yn},setup(){const e=z();return{isFixedHeader:T(()=>e.themeConfig.isFixedHeader)}}},Kn={class:"layout-columns-warp"};function Zn(e,s,o,t,p,y){const r=u("ColumnsAside"),a=u("Aside"),i=u("Header"),n=u("Main"),_=u("el-scrollbar"),d=u("el-container"),C=u("el-backtop");return h(),V(d,{class:"layout-container"},{default:b(()=>[m(r),k("div",Kn,[m(a),m(d,{class:O(["flex-center layout-backtop",{"layout-backtop":!t.isFixedHeader}])},{default:b(()=>[t.isFixedHeader?(h(),V(i,{key:0})):H("",!0),m(_,{class:O({"layout-backtop":t.isFixedHeader})},{default:b(()=>[t.isFixedHeader?H("",!0):(h(),V(i,{key:0})),m(n)]),_:1},8,["class"])]),_:1},8,["class"])]),m(C,{target:".layout-backtop .el-scrollbar__wrap"})]),_:1})}var es=B(Jn,[["render",Zn]]);const ts={name:"layout",components:{Defaults:Bn,Classic:qn,Transverse:On,Columns:es},setup(){const{proxy:e}=Q(),s=z(),o=T(()=>s.themeConfig),t=()=>{X.get("oldLayout")||X.set("oldLayout",o.value.layout);const p=document.body.clientWidth;p<1e3?(o.value.isCollapse=!1,e.mittBus.emit("layoutMobileResize",{layout:"defaults",clientWidth:p})):e.mittBus.emit("layoutMobileResize",{layout:X.get("oldLayout")?X.get("oldLayout"):o.value.layout,clientWidth:p})};return fe(()=>{t(),window.addEventListener("resize",t)}),pe(()=>{window.removeEventListener("resize",t)}),{getThemeConfig:o}}};function ns(e,s,o,t,p,y){const r=u("Defaults"),a=u("Classic"),i=u("Transverse"),n=u("Columns");return t.getThemeConfig.layout==="defaults"?(h(),V(r,{key:0})):t.getThemeConfig.layout==="classic"?(h(),V(a,{key:1})):t.getThemeConfig.layout==="transverse"?(h(),V(i,{key:2})):t.getThemeConfig.layout==="columns"?(h(),V(n,{key:3})):H("",!0)}var rs=B(ts,[["render",ns]]);export{rs as default};
